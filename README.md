# Проектная работа "Веб-ларек"

Ссылка на репозиторий: git@github.com:AnnaFoma/web-larek-frontend.git


Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/styles/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

# Архитектура 

## Базовый код
### 1.	Класс EventEmitter
Брокер событий, для реализации кастомных событий. Дает возможность уменьшить связанность между событиями и объединять события группами.
Сам класс хранит информацию о всех слушателях, которые в него добавляются.
Класс имеет методы on,  off,  emit – для добавления, снятия и генерации события. 
Также класс имеет методы rest, bindEmitter, которые позволяют сбросить его состояние или привязать его к другому иммитеру (метод для группировки).
Дополнительно реализованы методы  onAll и  offAll  — для подписки на все события и сброса всех подписчиков. 
Метод  trigger , генерирующий заданное событие с заданными аргументами. Это позволяет передавать его в качестве обработчика события в другие классы. Эти классы будут генерировать события, не будучи при этом напрямую зависимыми от класса  EventEmitter.

### 2.	Класс HTMLCustomItem<NodeType, Events>
Данный класс – Api для реализации компонентов. Он позволяет писать компоненты вне зависимости от среды и правил, которые могут быть общими для них.
В данном классе можно вводить дополнительные правила обработки.
Функционал класса:
1.	Переопределены методы класса EventEmitter, для ограничения событий, которые могут приходить, теми событиями, которые прописаны для конкретного html-элемента:
2.	Метод render позволяет реализовать один общий интерфейс, для отображения компонента. Тем самым компонент зависит не от конкретного компонента, а от интерфейса, описывающего весь класс таких компонент;
3.	Методы для работы с html-разметкой: remove, show, hide – удаление, показ и скрытие блоков;
4.	Методы для работы со значениями: setText, setLink, setValue, getValue, disable,  enable, toggleDisabled – установка текста, установка ссылки, установка значения, получение значения, отключить/ включить (action, input), дополнительные методы для переключения;
5.	Методы проверки валидации: isValid, getValidationMessage;
6.	Методы работы с ccs-классами: addClass, removeClass, toggleClass;
7.	Методы для работы с контейнером: replace, clear, append, prepend, setContent – замена, очистка, добавление, установка контента внутри контейнера.

### 3.	Класс View<Node Type, DataType, Events, Modifiers>
Класс, от которого будут наследоваться компоненты. Данный класс имеет полную типизацию:
1. типизацию элементов, которые являются контейнером;
2. типизацию данных, которые получает компонент, для отображения;
3. типизация перечня событий, для компонента (кастомные события);
4. типизацию перечня идентификаторов, которые могут быть у компонента (модальное окно – открыто/ закрыто, кнопка - включена/ выключена).
Имеет единое свойство elements, внутри него кэшируются элементы для повторного переиспользования.
Элементы выбираются двумя способами: select, element
Установка данных: assign.
Копирование элементов: copy.
Переключение модификаторов: toggle.
Показывает контейнер, когда в нем есть контент, в противном случае контейнер скрыт: setVisibleContent.
Статические методы для инициализации компонент: factory, clone, mount.

### 4.	Класс Api
Данный класс содержит базовый url и опции, которые необходимо добавить в запрос.
Имеет два метода: get и post – для получения данных и отправки данных.

## Общеиспользуемые компоненты
### 1.	Класс Button
Данный интерфейс реализует компонент кнопка.

### 2.	Класс Modal
Данный класс реализует интерфейс модального окно. Модальное окно имеет заголовок, контент (контент меняется зависимости от этапа взаимодействия с веб-сайтом) и набор действий (выбрать, удалить, оформить и т.д.).

### 3.	Класс Gallery
Класс реализует интерфейс карточек на главной странице сайта

## Компоненты предметной области
### 1.	Класс Card
Данный класс реализует интерфейс карточки, отображаемой в классе Gallery. Карточка отображается на странице веб-сайта и имеет следующие элементы: заголовок, картинку, секцию для текста и стоимость.

### 2.	Класс Order
Реализует интерфейс карточки заказа. В нем отображаются способ оплаты и адрес доставки.

### 3.	Класс PersonalDate
Реализует интерфейс для работы с модальным окном с персональными данными: email и номер телефона покупателя.

### 4.	Класс OrderProcess
Реализует интерфейс для работы с модальным окном при успешном оформлении заказа

### 5.	Класс CartProduct
Реализует интерфейс модального окна корзины выбранных товаров. Данный класс имеет связь один ко многим с классом Product. 

### 6.	Класс Product
Позволяет работать с товарами, запрашивает их с сервера и хранит данные о них.
